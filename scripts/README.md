# JavaWrapper

A command-line interface for UACalc Java functionality to enable comparison with the Rust implementation.

## Overview

The `JavaWrapper` class provides a simple CLI interface to access UACalc functionality from Java, outputting results in JSON format for easy parsing by comparison scripts.

## Compilation

```bash
javac -cp "jars/*:org" -d scripts scripts/JavaWrapper.java
```

## Usage

### Properties Command
Get basic properties of an algebra:

```bash
java -cp "jars/*:scripts" scripts.JavaWrapper properties <ua_file>
```

**Output:** JSON with name, cardinality, operation count, operation symbols, operation arities, and memory usage.

### Congruence Generated Command
Compute the congruence generated by a pair of elements:

```bash
java -cp "jars/*:scripts" scripts.JavaWrapper cg <ua_file> <a> <b>
```

**Output:** JSON with partition blocks and memory usage.

### Lattice Command
Get congruence lattice properties:

```bash
java -cp "jars/*:scripts" scripts.JavaWrapper lattice <ua_file>
```

**Output:** JSON with size, join irreducibles count, height, width, and memory usage.

## Example

```bash
# Get properties of a Boolean algebra
java -cp "jars/*:scripts" scripts.JavaWrapper properties resources/algebras/ba2.ua

# Compute congruence generated by (0,1)
java -cp "jars/*:scripts" scripts.JavaWrapper cg resources/algebras/ba2.ua 0 1

# Get lattice properties
java -cp "jars/*:scripts" scripts.JavaWrapper lattice resources/algebras/ba2.ua
```

## Error Handling

All errors are returned as JSON with `error` and `type` fields:

```json
{"error":"File not found: nonexistent.ua","type":"FileNotFoundException"}
```

## Memory Usage

All commands report memory usage in megabytes (`java_memory_mb` field) to enable performance comparisons with the Rust implementation.

## Integration

This wrapper is used by:
- `scripts/java_comparison.py` - For Java-Rust comparison tests
- `tests/python/test_java_compatibility.py` - For compatibility testing
- GitHub Actions workflows - For automated performance testing
